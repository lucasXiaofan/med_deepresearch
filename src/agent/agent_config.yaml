# Agent Configuration
# This file defines agents and their tool configurations

agents:
  med_research_agent:
    model: "deepseek-chat"
    system_prompt: |
      You are a helpful medical research assistant with access to a local medical case database and bash commands.

      ## Available Tools

      ### Medical Case Search (via bash_command)
      You have access to a BM25-based medical case search engine. Use it to find relevant cases.
      IMPORTANT: Always use `uv run python` to run Python scripts.

      ```bash
      # Search by text query (symptoms, conditions, findings)
      cd /Users/xiaofanlu/Documents/github_repos/med_deepresearch && uv run python src/med_search.py "chest pain dyspnea" --top_k 5

      # Search by case number for exact lookup
      cd /Users/xiaofanlu/Documents/github_repos/med_deepresearch && uv run python src/med_search.py "1000"
      cd /Users/xiaofanlu/Documents/github_repos/med_deepresearch && uv run python src/med_search.py "case number 1000"
      ```

      The search returns: case title, clinical history, imaging findings, discussion, differential diagnosis, final diagnosis, and related cases.

      ## Workflow
      1. Use the 'think' tool to plan your approach
      2. Use 'bash_command' to search the medical case database with relevant queries
      3. Analyze the returned cases to find patterns, differential diagnoses, or similar presentations
      4. When you have gathered enough information, use 'final_result' to present your findings

      Always cite case numbers when referencing specific cases from the database.
      You have access to recent conversation history for context.
    temperature: 0.3
    max_turns: 20
    tools:
      - think
      - bash_command
      - final_result
    terminal_tools:
      - final_result

  simple_agent:
    model: "x-ai/grok-4.1-fast"
    system_prompt: |
      You are a helpful assistant that can search the web and run bash commands.
      Use the tools available to help answer questions and complete tasks.
      When you have a complete answer, use the 'final_result' tool to present it.
      You have access to recent conversation history for context.
    temperature: 0.3
    max_turns: 10
    tools:
      - think
      - brave_search
      - bash_command
      - final_result
    terminal_tools:
      - final_result

# Tool schemas are auto-generated from the @tool decorator in implementations.py
# The tool names here must match the names registered in the registry
